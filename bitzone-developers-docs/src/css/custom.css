@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');

:root {
  --ifm-color-primary: #1a1a1a;
  --ifm-color-primary-dark: #171717;
  --ifm-color-primary-darker: #151516;
  --ifm-color-primary-darkest: #131315;
  --ifm-color-primary-light: #222325;
  --ifm-color-primary-lighter: #2a2b2e;
  --ifm-color-primary-lightest: #323439;
  --ifm-font-family-base: 'Open Sans', Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

/* Dark: near-black background, near-white text */
html[data-theme='dark'] {
  --ifm-background-color: #131315;
  --ifm-navbar-background-color: #131315;
  --ifm-footer-background-color: #131315;
  --ifm-font-color-base: #e9e9ec;
  --ifm-color-content: #e9e9ec;
  --ifm-link-color: #e9e9ec;
}
html[data-theme='dark'] body { color: #e9e9ec; }

/* Light: near-white background, near-black text */
html[data-theme='light'] {
  --ifm-background-color: #f3f3f5;
  --ifm-navbar-background-color: #f3f3f5;
  --ifm-footer-background-color: #f3f3f5;
  --ifm-font-color-base: #1a1a1a;
  --ifm-color-content: #1a1a1a;
  --ifm-link-color: #1a1a1a;
}
html[data-theme='light'] body { color: #1a1a1a; }

/* Navbar logo theme-aware */
html[data-theme='dark'] .navbar__brand img[src$="logo-pandapay.svg"] { content: url('/img/logo-pandapay.svg'); }
html[data-theme='light'] .navbar__brand img[src$="logo-pandapay.svg"] { content: url('/img/logo-pandapay-black.svg'); }

.navbar__brand img { height: 24px; }
.markdown h1, .markdown h2, .markdown h3 { scroll-margin-top: 80px; }

/* Links inherit theme link color */
a, .menu__link, .table-of-contents__link, .breadcrumbs__link { color: var(--ifm-link-color); }

/* Interactive AES card (soft B/W) */
.aes-card {
  border: 1px solid #e1e1e4;
  border-radius: 12px;
  padding: 16px;
  background: #151517;
}
.aes-card__header { display: flex; gap: 12px; align-items: center; margin-bottom: 8px; flex-wrap: wrap; }
.badge-interactive {
  display: inline-block;
  background: #ededf0;
  color: #151517;
  font-weight: 700;
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 999px;
}
.aes-hint { color: #e6e6e9; font-size: 12px; }
.aes-fields { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 8px; }
.aes-label { display: grid; gap: 6px; font-size: 14px; }
.aes-input, .aes-textarea {
  width: 100%;
  border: 1px solid #d7d7db;
  border-radius: 8px;
  padding: 10px 12px;
  background: #161619;
  color: #ececee;
  font-size: 16px; /* Prevent iOS zoom on focus */
  outline: none;
}
.aes-input:focus, .aes-textarea:focus { border-color: #f0f0f2; box-shadow: none; }
.aes-actions { display: flex; gap: 8px; margin-top: 10px; flex-wrap: wrap; }
.btn { border: 1px solid #e3e3e6; border-radius: 8px; padding: 8px 12px; cursor: pointer; font-weight: 600; }
.btn-primary { background: #ececef; color: #151517; }
.btn-primary:disabled { opacity: 0.6; cursor: not-allowed; }
.btn-secondary { background: #151517; color: #ededf0; }
.btn-ghost { background: #151517; color: #ededf0; border-color: transparent; }
.aes-result { margin-top: 12px; border-radius: 8px; padding: 12px; background: #161619; border: 1px solid #e3e3e6; color: #ececee; }
.aes-result--ok { border-color: #e3e3e6; }
.aes-result--error { border-color: #e3e3e6; }

/* Extra helpers for interactivity */
.aes-step { display: inline-block; font-weight: 700; margin-right: 8px; }
.aes-helper { opacity: 0.95; }
.aes-pre-copy { cursor: pointer; }

/* Code block title */
.codeBlockTitle_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module { font-weight: 600; }

/* Hover visibility on dark backgrounds */
html[data-theme='dark'] a:hover,
html[data-theme='dark'] .menu__link:hover,
html[data-theme='dark'] .table-of-contents__link:hover,
html[data-theme='dark'] .pagination-nav__link:hover,
html[data-theme='dark'] button:hover,
html[data-theme='dark'] .btn:hover {
  color: #f6f6f7 !important;
  background-color: rgba(255,255,255,0.06);
  outline: 1px solid rgba(255,255,255,0.2);
}

/* Hover visibility on light backgrounds */
html[data-theme='light'] a:hover,
html[data-theme='light'] .menu__link:hover,
html[data-theme='light'] .table-of-contents__link:hover,
html[data-theme='light'] .pagination-nav__link:hover,
html[data-theme='light'] button:hover,
html[data-theme='light'] .btn:hover {
  color: #1a1a1a !important;
  background-color: rgba(0,0,0,0.06);
  outline: 1px solid rgba(0,0,0,0.2);
}

/* Focus visibility */
html[data-theme='dark'] *:focus-visible { outline: 2px solid #ffffff; outline-offset: 2px; }
html[data-theme='light'] *:focus-visible { outline: 2px solid #1a1a1a; outline-offset: 2px; }

/* Light theme overrides for interactive AES widget */
html[data-theme='light'] .aes-card { background: #ffffff; border-color: #dfdfe3; }
html[data-theme='light'] .badge-interactive { background: #151517; color: #ededf0; }
html[data-theme='light'] .aes-hint { color: #4a4a4f; }
html[data-theme='light'] .aes-input,
html[data-theme='light'] .aes-textarea {
  background: #ffffff;
  color: #1a1a1a;
  border-color: #cfcfd4;
  font-size: 16px; /* Prevent iOS zoom on focus */
}
html[data-theme='light'] .btn-primary { background: #151517; color: #ededf0; }
html[data-theme='light'] .btn-secondary { background: #ececef; color: #151517; }
html[data-theme='light'] .btn-ghost { background: transparent; color: #1a1a1a; border-color: transparent; }
html[data-theme='light'] .aes-result { background: #ffffff; color: #1a1a1a; border-color: #e1e1e4; }

/* Placeholders contrast by theme */
.aes-input::placeholder,
.aes-textarea::placeholder { color: #b9b9bd; opacity: 1; }
html[data-theme='light'] .aes-input::placeholder,
html[data-theme='light'] .aes-textarea::placeholder { color: #66686d; }

/* Tabs visibility and contrast */
html[data-theme='dark'] .tabs__item { color: #e9e9ec; }
html[data-theme='dark'] .tabs__item--active,
html[data-theme='dark'] .tabs__item[aria-selected="true"] { color: #f6f6f7; background-color: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.2); }
html[data-theme='dark'] .tabs__item:hover { color: #ffffff; background-color: rgba(255,255,255,0.06); }
html[data-theme='light'] .tabs__item { color: #1a1a1a; }
html[data-theme='light'] .tabs__item--active,
html[data-theme='light'] .tabs__item[aria-selected="true"] { color: #1a1a1a; background-color: rgba(0,0,0,0.06); border-color: rgba(0,0,0,0.2); }
